@using GroceryGetter.BL
@model GroceryGetter.BL.Models.User

@{
    ViewBag.Title = $"{Model.FirstName}'s List";
    Layout = "~/Views/Shared/_GGLayout.cshtml";
}

    


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.Id)


        @{var masterList = ProductManager.LoadAll(); }

        <h2>Master List</h2>
        <div class="overflow-auto" style="max-width: 260px; max-height: 200px;">
            <ul class="list-group">
                @foreach (var m in masterList)
                {
                    <li class="list-group-item">@m.Title <button type="button" class="btn btn-sm btn-success" onclick="">Add</button> </li>
                }
            </ul>

        </div>


        <h2>@Model.FirstName's List</h2>

        <ul class="list-group">







            @foreach (var item in Model.GroceryListObj)
            {


                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span> @item.Title </span>
                    <span data-toggle="collapse" data-target="#@item.Id" aria-expanded="false" aria-controls="@item.Id"><button type="button" class="btn btn-default">Info</button></span>
                    <span><button type="button" class="btn btn-success">+</button></span>
                    <span class="badge badge-primary badge-pill">Quntity: @item.Amount</span>

                    <span><button type="button" class="btn btn-danger">-</button></span>
                    <span class="badge badge-primary badge-pill">@item.InCart</span>
                </li>


                <div class="collapse" id="#@item.Id">
                    <div class="card card-body">

                        <ul>
                            <li>Notes: @item.Notes</li>
                            <li>Store: @item.Store</li>
                            <li>Alise: @item.Aisle</li>
                        </ul>
                    </div>
                </div>





            }
        </ul>



        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Save" class="btn btn-default" />
            </div>
        </div>
    </div>
    }

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
